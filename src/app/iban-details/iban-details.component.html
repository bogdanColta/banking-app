<div class="header-card-full shadow-sm mb-0">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <h2 class="card-title mb-0">{{ name }}</h2>
      <div class="text-muted" style="font-size: 1rem;">{{ iban }}</div>
    </div>
    <button
      class="btn transfer-btn rounded-circle ms-2"
      (click)="navigateToTransferForm()"
      style="width: 45px; height: 45px;"
      title="Transfer"
    >
      <i class="bi bi-arrow-up-square" style="font-size: 1.5rem;"></i>
    </button>
  </div>
</div>
<div class="container mt-0">
  <div *ngFor="let date of (groupedTransactions | keyvalue).slice().reverse()">
    <ul class="list-group">
      <li
        class="list-group-item text-start text-muted date-header mt-3"
        style="background-color: #f8f9fa; cursor: default;"
      >
        {{ date.key }}
      </li>
      <li
        class="list-group-item d-flex justify-content-between align-items-center"
        *ngFor="let transaction of date.value"
        (click)="viewTransactionDetails(transaction, iban!)"
        style="cursor: pointer;"
      >
        <div class="d-flex align-items-center">
          <i [class]="getCategoryIcon(transaction.category) + ' me-2 text-secondary'" style="font-size: 1.2rem;"></i>
          <h5 class="mb-1">
            <span class="iban-small">
              {{ transaction.senderIBAN === iban ? transaction.receiverName : transaction.senderName }}
            </span>
          </h5>
        </div>
        <span
          class="badge rounded-pill"
          [ngClass]="{'bg-success': transaction.receiverIBAN === iban, 'bg-danger': transaction.senderIBAN === iban}"
        >
          {{ transaction.receiverIBAN === iban ? '+' : '-' }}{{ transaction.amount | currency:'EUR':'symbol' }}
        </span>
      </li>
    </ul>
  </div>
</div>
